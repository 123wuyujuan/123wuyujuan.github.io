<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  
  
    <meta name="description" content="唐泽雪穗的个人网站">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    ant-design-vue 插槽使用 |
    
    唐泽雪穗</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<script src="/js/pace.min.js"></script>

<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="唐泽雪穗" type="application/atom+xml">
</head>

<body>
<main class="content">
  <section class="outer">
  <article id="post-ant-design vue 插槽使用" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

    <div class="article-inner">
        
            <header class="article-header">
                
  
    <h1 class="article-title" itemprop="name">
      ant-design-vue 插槽使用
    </h1>
  
  




            </header>
            

                
                    <div class="article-meta">
                        <a href="/uncategorized/ant-design%20vue%20%E6%8F%92%E6%A7%BD%E4%BD%BF%E7%94%A8/" class="article-date">
  <time datetime="2020-10-20T06:42:51.000Z" itemprop="datePublished">2020-10-20</time>
</a>
                            
                    </div>
                    

                        
                            
    <div class="tocbot"></div>





                                

                                <div class="article-entry" itemprop="articleBody">
                                    
                                      
                                      
                                        <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a-table</span> <span class="attr">:columns</span>=<span class="string">&quot;columns&quot;</span> <span class="attr">:dataSource</span>=<span class="string">&quot;dataList&quot;</span> <span class="attr">:loading</span>=<span class="string">&quot;loading&quot;</span> <span class="attr">:pagination</span>=<span class="string">&quot;false&quot;</span> <span class="attr">:rowKey</span>=<span class="string">&quot;(record,index) =&gt; index&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;duty&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;text, record, index&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;text == &#x27;general&#x27;&quot;</span>&gt;</span>普通员工<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;text == &#x27;expert&#x27;&quot;</span>&gt;</span>专家<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;text == &#x27;admin&#x27;&quot;</span>&gt;</span>管理员<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;status&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;text, record, index&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;text == &#x27;1&#x27;&quot;</span>&gt;</span>正常<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;text == &#x27;0&#x27;&quot;</span>&gt;</span>失效<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;action&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;text, record, index&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;editUser(record)&quot;</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">a-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a-table</span>&gt;</span></span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// script 部分</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            columns:[</span><br><span class="line">       &#123;</span><br><span class="line">           title: <span class="string">&#x27;用户账号&#x27;</span>,</span><br><span class="line">           dataIndex: <span class="string">&#x27;username&#x27;</span>,</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">           title: <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">           dataIndex: <span class="string">&#x27;name&#x27;</span>,</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">           title: <span class="string">&#x27;角色&#x27;</span>,</span><br><span class="line">           dataIndex: <span class="string">&#x27;duty&#x27;</span>,</span><br><span class="line">           scopedSlots: &#123;<span class="attr">customRender</span>: <span class="string">&#x27;duty&#x27;</span>&#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">           title: <span class="string">&#x27;状态&#x27;</span>,</span><br><span class="line">           dataIndex: <span class="string">&#x27;status&#x27;</span>,</span><br><span class="line">           scopedSlots: &#123;<span class="attr">customRender</span>: <span class="string">&#x27;status&#x27;</span>&#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">           title: <span class="string">&#x27;操作&#x27;</span>,</span><br><span class="line">           dataIndex: <span class="string">&#x27;action&#x27;</span>,</span><br><span class="line">           scopedSlots: &#123;<span class="attr">customRender</span>: <span class="string">&#x27;action&#x27;</span>&#125;,</span><br><span class="line">       &#125;],</span><br><span class="line">            dataList: [],</span><br><span class="line">            loading: <span class="literal">false</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">created</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.getList()</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">     <span class="function"><span class="title">getList</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.loading = <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">this</span>.$http.get(<span class="string">&#x27;/getUsers.do&#x27;</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="function"><span class="title">if</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">                    <span class="built_in">this</span>.dataList = res || []</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">this</span>.loading = <span class="literal">false</span>;</span><br><span class="line">            &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(err)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">editUser</span>(<span class="params">record</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.$refs.addModal.showModal(record)</span><br><span class="line">        &#125;,</span><br><span class="line">  	&#125;</span><br></pre></td></tr></table></figure>



<h5 id="1-columns-定义table-表头-以及和-dataList-的字段对应"><a href="#1-columns-定义table-表头-以及和-dataList-的字段对应" class="headerlink" title="1.columns 定义table 表头,以及和 dataList 的字段对应,"></a>1.columns 定义table 表头,以及和 dataList 的字段对应,</h5><h5 id="2-dataSource-为数据源-是一个数组"><a href="#2-dataSource-为数据源-是一个数组" class="headerlink" title="2. dataSource 为数据源,是一个数组,"></a>2. dataSource 为数据源,是一个数组,</h5><h5 id="3-loading-加载时loading-数据请求前设置-true-请求完成后设置-false"><a href="#3-loading-加载时loading-数据请求前设置-true-请求完成后设置-false" class="headerlink" title="3.loading 加载时loading,数据请求前设置 true,请求完成后设置 false,"></a>3.loading 加载时loading,数据请求前设置 true,请求完成后设置 false,</h5><h5 id="4-插槽的使用"><a href="#4-插槽的使用" class="headerlink" title="4.插槽的使用"></a>4.插槽的使用</h5><p>很多情况下,后端返回的数据是 数字,前端需要展示文字,这事使用插槽就会非常方便<br>1.首先,在 columns 中需要的部分添加 scopedSlots: {customRender: ‘status’}<br>2.table 中添加标签</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template slot=<span class="string">&quot;status&quot;</span> slot-scope=<span class="string">&quot;text, record, index&quot;</span>&gt;</span><br><span class="line">   &lt;span v-<span class="keyword">if</span>=<span class="string">&quot;text == &#x27;1&#x27;&quot;</span>&gt;正常&lt;/span&gt;</span><br><span class="line">    &lt;span v-<span class="keyword">if</span>=<span class="string">&quot;text == &#x27;0&#x27;&quot;</span>&gt;失效&lt;/span&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>

<p>customRender 的值和slot 的值相对应,slot-scope 中 text就是status的值(text可以自定义,key,item都可以), record 代表text所在的对象,可以通过 record 拿到该行的其他值. 比如</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">editUser</span>(<span class="params">record</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">this</span>.$refs.addModal.showModal(record)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p>把record作为参数传递,编辑改用户信息.</p>

                                      
                                    
                                  </div>
                                    <footer class="article-footer">
                                        <a data-url="https://123wuyujuan.github.io/uncategorized/ant-design%20vue%20%E6%8F%92%E6%A7%BD%E4%BD%BF%E7%94%A8/" data-id="ckgt29lzi00055gsfhjcv60oo" class="article-share-link">
                                            Share
                                        </a>
                                        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li></ul>

                                    </footer>

    </div>

    
        
  <nav class="article-nav">
    
      <a href="/uncategorized/DNS%E6%94%BB%E5%87%BB/" class="article-nav-link">
        <strong class="article-nav-caption">Newer</strong>
        <div class="article-nav-title">
          
            DNS攻击
          
        </div>
      </a>
    
    
      <a href="/uncategorized/hexo-%E9%94%99%E8%AF%AF/" class="article-nav-link">
        <strong class="article-nav-caption">Older</strong>
        <div class="article-nav-title">【解决方法】hexo g 报错 &#34;OperationalError:&#39; EPERM:&#39;  operation not permitted, unlink …&#34;</div>
      </a>
    
  </nav>


            

                <!-- 
                    
                        
                             -->
                            
    
      
    
</article>
</section>
  <footer class="footer">
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
    <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
    <li><i class="fe fe-bookmark"></i> <span id="busuanzi_value_page_pv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>&copy; 2020 唐泽雪穗</li>
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>Theme  <a target="_blank" rel="noopener" href="https://github.com/zhwangart/hexo-theme-ocean">Ocean</a></li>
    </ul>
  </div>
</footer>

</main>
<aside class="sidebar">
  <button class="navbar-toggle"></button>
<nav class="navbar">
  
    <div class="logo">
      <a href="/"><img src="/images/hexo.svg" alt="唐泽雪穗"></a>
    </div>
  
  <ul class="nav nav-main">
    
      <li class="nav-item">
        <a class="nav-item-link" href="/">Home</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/archives">Archives</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/gallery">Gallery</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/about">About</a>
      </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="Search">
        <i class="fe fe-search"></i>
        Search
      </a>
    </li>
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
        <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
          <i class="fe fe-feed"></i>
        </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
</aside>

<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script src="/js/busuanzi-2.3.pure.min.js"></script>


  
<script src="/fancybox/jquery.fancybox.min.js"></script>




  
<script src="/js/tocbot.min.js"></script>

  <script>
    // Tocbot_v4.7.0  http://tscanlin.github.io/tocbot/
    tocbot.init({
      tocSelector: '.tocbot',
      contentSelector: '.article-entry',
      headingSelector: 'h1, h2, h3, h4, h5, h6',
      hasInnerContainers: true,
      scrollSmooth: true,
      positionFixedSelector: '.tocbot',
      positionFixedClass: 'is-position-fixed',
      fixedSidebarOffset: 'auto',
    });
  </script>



<script src="/js/ocean.js"></script>


  <script>
  // 使用fancybox来显示post图片集(#andus-head-img为头像id)
  $('img:not(#andus-head-img)').each(function() {
    $(this).wrap('<a class="fancybox" data-fancybox="gallery" href="' + $(this).prop("src") + '"></a>'); 
  })
  </script>
  

</body>
</html>